<div class="row">
    <div class="col-12">
        <app-cswadmin-customer-add
            [(show)]    = "showAdd"
            (customerCallBack)="customerSelected($event)"
        >
        </app-cswadmin-customer-add>
         

        <app-csconfirm
            [title]     = "'Confirm Delete'"
            [message]   = "confirmDeleteMessage"
            [(show)]    = "showDelete"
            (callBack)  = "deleteCustomer()"
        >
        </app-csconfirm>        
    </div>
</div>
<div class="row mt-1 p-3">
    <div class="col-12 p-3 border border-1 rounded">
        <div class="row">
            <div class="col-4">
                <div class="input-group mb-2">
                    <select (ngModelChange)  ="customerSelected($event)" class="form-select" [(ngModel)]="currentCustomer.id">
                        <option *ngFor="let p of csWebService.customerList; let idx = index"
                         [ngValue]="p.id">{{p.name}}</option>
                      </select>                      
                </div>
            </div>
            <div class="col-8">
                <div class="row">
                    <div class="col-12">
                        <div class="input-group">
                            <button (click) = "saveCustomer()" type="button" class="btn btn-primary" [title]="saveCustomerName">
                                <div class="inline-block text-truncate" style="max-width:200px;" [innerHTML]="saveCustomerName"></div>
                            </button> 
        
                            <button (click) = "showAddNew()" type="button" class="btn btn-outline-secondary" >
                                Add New Customer
                            </button>
                           
                            <button (click) = "onDeleteClick()" type="button" class="btn btn-outline-secondary" [title]="deleteCustomerName">
                                <div class="inline-block text-truncate" style="max-width:200px;" [innerHTML]="deleteCustomerName"></div>
                            </button> 
                        </div>
                    </div>  
                </div>                
            </div>
        </div>
    <div>

    <div class="row mt-1 mb-1">
        <div class="col-12"> 
            <mat-tab-group  class="header-less-tabs" [selectedIndex]="active" (selectedIndexChange)="onTabChange($event)">
                <mat-tab label="Details"></mat-tab>
                <mat-tab label="Users"></mat-tab>
                <mat-tab label="Products"></mat-tab>             
            </mat-tab-group>
        </div>
    </div>


    <div class="row">
        <div class="col-12">
            <app-cswadmin-customer-details  *ngIf="active === 0"
                [currentCustomer]           = "currentCustomer"
                (parentCustomerNameChanged) = "customerNameChanged($event)"
            >                    
            </app-cswadmin-customer-details>


            <app-cswadmin-customer-users    *ngIf="active === 1"
                [currentCustomer]           = "currentCustomer"
            ></app-cswadmin-customer-users>


            <app-cswadmin-customer-products *ngIf="active === 2">
            
            </app-cswadmin-customer-products>
        </div>
    </div> 
</div>
 
